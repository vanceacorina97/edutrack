<app-auth-layout
  [title]="'LOGIN.TITLE' | translate"
  [subtitle]="'LOGIN.SUBTITLE' | translate"
>
  <form (ngSubmit)="login()" #loginForm="ngForm">
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>{{ 'LOGIN.EMAIL' | translate }}</mat-label>
      <input
        matInput
        [(ngModel)]="email"
        name="email"
        #emailInput="ngModel"
        required
        email
      />
      @if (emailInput?.touched && emailInput?.hasError('required')) {
        <mat-error>{{ 'LOGIN.ERRORS.EMAIL_REQUIRED' | translate }}</mat-error>
      }
      @if (emailInput?.touched && emailInput?.hasError('email')) {
        <mat-error>{{ 'LOGIN.ERRORS.EMAIL_INVALID' | translate }}</mat-error>
      }
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>{{ 'LOGIN.PASSWORD' | translate }}</mat-label>
      <input
        matInput
        [(ngModel)]="password"
        name="password"
        #passwordInput="ngModel"
        type="password"
        required
        minlength="6"
      />
      @if (passwordInput?.touched && passwordInput?.hasError('required')) {
        <mat-error>{{ 'LOGIN.ERRORS.PASSWORD_REQUIRED' | translate }}</mat-error>
      }
      @if (passwordInput?.touched && passwordInput?.hasError('minlength')) {
        <mat-error>{{ 'LOGIN.ERRORS.PASSWORD_MINLENGTH' | translate }}</mat-error>
      }
    </mat-form-field>

    <button
      mat-raised-button
      color="primary"
      class="full-width"
      type="submit"
      [disabled]="loginForm.invalid"
    >
      {{ 'LOGIN.SUBMIT' | translate }}
    </button>
  </form>

  <div class="no-account">
    <p>
      {{ 'LOGIN.NO_ACCOUNT' | translate }}
      <a routerLink="/register">{{ 'REGISTER.TITLE' | translate }}</a>.
    </p>
  </div>
</app-auth-layout>
